1.You can run the code according to the following method. The code below is for performing the few-shot step
step1:
conda create -n dail-sql python=3.8
conda activate dail-sql

step2:
To set up the environment, you should download the stanford-cornlp（http://nlp.stanford.edu/software/stanford-corenlp-full-2018-10-05.zip） and unzip it to the folder ./model/third_party. Next, you need to launch the coreNLP server:
conda install -c conda-forge openjdk
cd model/third_party/stanford-corenlp-full-2018-10-05
nohup java -mx4g -cp "*" edu.stanford.nlp.pipeline.StanfordCoreNLPServer &
cd ../../../

step3:
cd src
pip install -r dail_requirements.txt

step4:
python nltk_downloader.py
sh run_for_bird.sh  test   #If you want to test the test set, please change "dev" to "test" in the sh file
conda deactivate
cd ..

#It takes 2-3 hours to run here
 
2.
step1:
conda create -n llama_factory -c conda-forge python=3.10 openjdk=21.0.6
conda activate llama_factory
pip install torch==2.2.0+cu121 torchvision==0.17.0+cu121 torchaudio==2.2.0+cu121 --index-url https://download.pytorch.org/whl/cu121
#conda install -c conda-forge openjdk=21.0.6 -y
cd src
pip install -r llama_requirements.txt

step2:
sh run.sh dev #If you want to test the test set, please change "dev" to "test" in the commend



#docker--run
docker run -it --rm text2sql-multi                     # 等价于跑 dail-sql test
mkdir -p ./output/bird/test
# Step 1: 运行 dail-sql，挂载本地 output 目录
docker run --rm -it \
  -v "$PWD/output":/workspace/output \
  text2sql-multi dail-sql test

# Step 2: 运行 llama_factory，同样挂载本地 output 目录
docker run -it --rm \
  -e OPENAI_API_KEY=$OPENAI_API_KEY \
  -v "$PWD/output":/workspace/output \
  text2sql-multi llama_factory test